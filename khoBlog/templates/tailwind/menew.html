{% load static links_menu menu_footer_set changelog featured_post featured_page %}

<div id="navbar" x-data="{ open: false }" @keydown.window.escape="open = false" class="bg-gray-50 dark:bg-jumbo-900">
  <!-- Mobile menu -->
  <div x-show="open" class="relative z-40 lg:hidden" x-description="Off-canvas menu for mobile, show/hide based on off-canvas menu state." x-ref="dialog" aria-modal="true" style="display: none;">

    <div x-transition:enter="transition-opacity ease-linear duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition-opacity ease-linear duration-300" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" x-description="Off-canvas menu backdrop, show/hide based on off-canvas menu state." class="fixed inset-0 bg-black bg-opacity-25" style="display: none;"></div>

    <div class="fixed inset-0 flex z-40">
      <div x-show="open" x-transition:enter="transition ease-in-out duration-300 transform" x-transition:enter-start="-translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transition ease-in-out duration-300 transform" x-transition:leave-start="translate-x-0" x-transition:leave-end="-translate-x-full" x-description="Off-canvas menu, show/hide based on off-canvas menu state." class="relative max-w-xs w-full bg-gray-50 dark:bg-jumbo-900 shadow-xl pb-12 flex flex-col overflow-y-auto" @click.away="open = false" style="display: none;">
        <div class="px-4 pt-5 pb-2 flex">
          <button type="button" class="-m-2 p-2 rounded-md inline-flex items-center justify-center hover:bg-gray-300 dark:hover:bg-jumbo-700" @click="open = false">
            <span class="sr-only">Close menu</span>
            <svg class="h-6 w-6" x-description="Heroicon name: outline/x" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>

        <!-- Links -->
        <div x-data="{ tab: 'Main' }" class="mt-2">
          <div class="border-b border-gray-200">
            <div class="-mb-px flex px-4 space-x-8" aria-orientation="horizontal" role="tablist">
              <!-- Selected: "text-indigo-600 border-indigo-600", Not Selected: "text-gray-900 dark:text-jumbo-100 border-transparent" -->
              <button x-on:click.prevent="tab = 'Main'" class="text-gray-900 dark:text-jumbo-100 border-transparent flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-base font-medium">Main</button>

              <!-- Selected: "text-indigo-600 border-indigo-600", Not Selected: "text-gray-900 dark:text-jumbo-100 border-transparent" -->
              <button x-on:click.prevent="tab = 'featured'" class="text-gray-900 dark:text-jumbo-100 border-transparent flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-base font-medium">Featured</button>
            </div>
          </div>

          <div x-show="tab === 'Main'" class="px-4 pt-10 pb-6 space-y-12" role="tabpanel" tabindex="0">
            <div class="grid grid-cols-1 items-start gap-y-10 gap-x-6">
              <div class="grid grid-cols-1 gap-y-10 gap-x-6">
                <div>
                  <p id="mobile-featured-heading-0" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Posts
                  </p>
                  <ul role="list" aria-labelledby="mobile-featured-heading-0" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Sleep
                      </a>
                    </li>
                  </ul>
                </div>
                <div>
                  <p id="mobile-categories-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Categories
                  </p>
                  <ul role="list" aria-labelledby="mobile-categories-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Basic Tees
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="grid grid-cols-1 gap-y-10 gap-x-6">
                <div>
                  <p id="mobile-collection-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Collection
                  </p>
                  <ul role="list" aria-labelledby="mobile-collection-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Everything
                      </a>
                    </li>
                  </ul>
                </div>

                <div>
                  <p id="mobile-brand-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Brands
                  </p>
                  <ul role="list" aria-labelledby="mobile-brand-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Full Nelson
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div x-show="tab === 'featured'" class="px-4 pt-10 pb-6 space-y-12" role="tabpanel" tabindex="0">
            <div class="grid grid-cols-1 items-start gap-y-10 gap-x-6">
              <div class="grid grid-cols-1 gap-y-10 gap-x-6">
                <div>
                  <p id="mobile-featured-heading-1" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Posts
                  </p>
                  <ul role="list" aria-labelledby="mobile-featured-heading-1" class="mt-6 space-y-6">
                    {% featured_post_list %}
                  </ul>
                </div>
                <div>
                  <p id="mobile-categories-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Categories
                  </p>
                  <ul role="list" aria-labelledby="mobile-categories-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Artwork Tees
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="grid grid-cols-1 gap-y-10 gap-x-6">
                <div>
                  <p id="mobile-collection-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Collection
                  </p>
                  <ul role="list" aria-labelledby="mobile-collection-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Everything
                      </a>
                    </li>
                  </ul>
                </div>

                <div>
                  <p id="mobile-brand-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                    Brands
                  </p>
                  <ul role="list" aria-labelledby="mobile-brand-heading" class="mt-6 space-y-6">
                    <li class="flex">
                      <a href="#" class="text-gray-900 dark:text-jumbo-200">
                        Significant Other
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="border-t border-gray-200 py-6 px-4 space-y-6">
          <div class="flow-root">
            <a href="#" class="-m-2 p-2 block font-medium text-gray-900 dark:text-jumbo-100">Create an account</a>
          </div>
          <div class="flow-root">
            <a href="#" class="-m-2 p-2 block font-medium text-gray-900 dark:text-jumbo-100">Sign in</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <header class="relative">
    <nav aria-label="Top">
      <!-- navigation -->
      <div class="bg-gray-50 dark:bg-jumbo-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="border-b border-gray-200 dark:border-jumbo-700">
            <div class="h-16 flex items-center justify-between">
              <!-- Logo (lg+) -->
              <div class="hidden lg:flex lg:items-center">
                <a href="{% url 'blog:post_list' %}">
                  <span class="sr-only">Home page</span>
                  <img class="h-8 w-auto sm:h-10" width="2.5rem" height="2.5rem" src="{% static 'khoBlog/img/RuthinkkTooBig.webp' %}" loading="lazy" alt="Khodok's Logo">
                </a>
              </div>

              <div class="hidden h-full lg:flex">
                <!-- Mega menus -->
                <div class="ml-8  z-50">
                  <div class="h-full flex justify-center space-x-8">
                    <div class="flex" x-data="{ open: false, focus: false }" @keydown.escape="onEscape" @close-popover-group.window="onClosePopoverGroup">
                      <div class="relative flex">
                        <button type="button" x-state:on="Item active" x-state:off="Item inactive" class="group flyout_button" @click="open=!open" @mousedown="if (open) $event.preventDefault()" aria-expanded="false" :aria-expanded="open.toString()">
                          Main
                        </button>
                      </div>
                      <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" x-description="'Main' mega menu, show/hide based on flyout menu state." class="absolute top-full inset-x-0 text-gray-900 dark:text-jumbo-200 sm:text-sm" x-ref="panel" @click.away="open = false" style="display: none;">
                        <!-- Presentational element used to render the bottom shadow, if we put the shadow on the actual panel it pokes out the top, so we use this shorter element to hide the top of the shadow -->
                        <div class="absolute inset-0 top-1/2 bg-white dark:bg-jumbo-900 shadow" aria-hidden="true"></div>
                        <div class="relative bg-white dark:bg-jumbo-900">
                          <div class="max-w-7xl mx-auto px-8">
                            <div class="grid grid-cols-2 items-start gap-y-10 gap-x-8 pt-10 pb-12">
                              <div class="grid grid-cols-2 gap-y-10 gap-x-8">
                                <div>
                                  <p id="desktop-gosomewhere-heading-0" class="font-medium text-gray-900 dark:text-jumbo-100">
                                    Go somewhere
                                  </p>
                                  <ul role="list" aria-labelledby="desktop-gosomewhere-heading-0" class="mt-6 space-y-6 sm:mt-4 sm:space-y-4">
                                    {% links_menu %}
                                  </ul>
                                </div>
                                <div>
                                  <p id="desktop-categories-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                                    Categories
                                  </p>
                                  <ul role="list" aria-labelledby="desktop-categories-heading" class="mt-6 space-y-6 sm:mt-4 sm:space-y-4">
                                    {% mfl_setting "D" %}
                                    {% mfl_setting "NP" %}
                                    {% mfl_setting "NS" %}
                                    {% mfl_setting "NA" %}
                                  </ul>
                                </div>
                              </div>
                              {% comment %} <div class="grid grid-cols-2 gap-y-10 gap-x-8">
                                <div>
                                  <p id="desktop-collection-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                                    Collection
                                  </p>
                                  <ul role="list" aria-labelledby="desktop-collection-heading" class="mt-6 space-y-6 sm:mt-4 sm:space-y-4">
                                    <li class="flex">
                                      <a href="#" class="hover:underline">
                                        Everything
                                      </a>
                                    </li>
                                  </ul>
                                </div>
                                <div>
                                  <p id="desktop-brand-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                                    Brands
                                  </p>
                                  <ul role="list" aria-labelledby="desktop-brand-heading" class="mt-6 space-y-6 sm:mt-4 sm:space-y-4">
                                    <li class="flex">
                                      <a href="#" class="hover:underline">
                                        Full Nelson
                                      </a>
                                    </li>
                                  </ul>
                                </div>
                              </div> {% endcomment %}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="flex" x-data="{ open: false, focus: false }" @keydown.escape="onEscape" @close-popover-group.window="onClosePopoverGroup">
                      <div class="relative flex">
                        <button type="button" x-state:on="Item active" x-state:off="Item inactive" class="group flyout_button" @click="open=!open" @mousedown="if (open) $event.preventDefault()" aria-expanded="false" :aria-expanded="open.toString()">
                          Featured
                        </button>
                      </div>
                      <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" x-description="'Main' mega menu, show/hide based on flyout menu state." class="absolute top-full inset-x-0 text-gray-900 dark:text-jumbo-200 sm:text-sm" x-ref="panel" @click.away="open = false" style="display: none;">
                        <!-- Presentational element used to render the bottom shadow, if we put the shadow on the actual panel it pokes out the top, so we use this shorter element to hide the top of the shadow -->
                        <div class="absolute inset-0 top-1/2 bg-white dark:bg-jumbo-900 shadow" aria-hidden="true"></div>
                        <div class="relative bg-white dark:bg-jumbo-900">
                          <div class="max-w-7xl mx-auto px-8">
                            <div class="flex col-2 gap-y-10 gap-x-8 pt-10 pb-12">
                              <div class="flex-none gap-y-10 gap-x-8">
                                <div>
                                  <p id="desktop-featured-heading-0" class="font-medium text-gray-900 dark:text-jumbo-100">
                                    Posts
                                  </p>
                                  <ul role="list" aria-labelledby="desktop-featured-heading-0" class="mt-6 space-y-6 sm:mt-4 sm:space-y-4">
                                    {% featured_post_list %}
                                  </ul>
                                </div>
                              </div>
                              <div>
                                <p id="desktop-categories-heading" class="font-medium text-gray-900 dark:text-jumbo-100">
                                  Categories
                                </p>
                                <ul role="list" aria-labelledby="desktop-categories-heading" class="grid grid-cols-3 gap-x-4 mt-6 sm:mt-4">
                                  {% super_featured_post_list %}
                                  {% super_featured_page_list %}
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Mobile menu and search (lg-) -->
              <div class="flex-1 flex items-center lg:hidden">
                <button type="button" x-description="Mobile menu toggle, controls the 'mobileFeatureduOpen' state." class="-ml-2 p-2 rounded-md hover:bg-gray-300 dark:hover:bg-jumbo-700" @click="open = true">
                  <span class="sr-only">Open menu</span>
                  <svg class="h-6 w-6" x-description="Heroicon name: outline/menu" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
                  </svg>
                </button>
              </div>

              <!-- Logo (lg-) -->
              <a href="{% url 'blog:post_list' %}" class="lg:hidden">
                <span class="sr-only">Home page</span>
                <img class="h-8 w-auto sm:h-10" width="2.5rem" height="2.5rem" src="{% static 'khoBlog/img/RuthinkkTooBig.webp' %}" loading="lazy" alt="Khodok's Logo">
              </a>

              <div class="flex-1 flex items-center justify-end">
                <div class="flex items-center lg:ml-8">
                  <div class="flex space-x-8">
                    <div class="flex">
                      {% include 'tailwind/theme_buttons.html' %}
                    </div>
                    {% comment %} <div class="flex">
                      <a href="#" class="-m-2 p-2 text-gray-900 dark:text-jumbo-100 dark:hover:text-jumbo-300">
                        <span class="sr-only">Account</span>
                        <svg class="w-6 h-6" x-description="Heroicon name: outline/user" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                      </a>
                    </div> {% endcomment %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
</div>
