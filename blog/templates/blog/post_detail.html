{% extends 'blog/base_post.html' %}
{% load static comments %}

{% block page_top_end %}
    <div class="btn-group float-end" role="group" aria-label="Previous / Next">
        <a class="btn btn-primary" href="{{ prev_post.get_absolute_url }}">
            <i class="bi bi-chevron-left"></i>
        </a>

        <a class="btn btn-primary" href="{{ next_post.get_absolute_url }}">
            <i class="bi bi-chevron-right"></i>
        </a>
    </div>
{% endblock page_top_end %}

{% block page_top %}
    {{ block.super }}

    {% block page_top_hr %}
    {% endblock page_top_hr %}
{% endblock page_top %}

{% block content_main %}
    {% include 'blog/base_post_card.html' %}

    <div class="card p-2 comments shadow mt-2">
        <h5 class="text-muted">Comments</h5>
        {% if post.enable_comments %}
            {% get_comment_count for post as comment_count %}

            {% render_comment_form for post %}
            <hr />

            <p class="text-muted text-small">This post has {{ comment_count }} comments.</p>

            {% render_comment_list for post %}
        {% else %}
            <p class="text-muted text-small">This post has comments disabled.</p>
        {% endif %}
    </div>
{% endblock content_main %}

{% block inside_aside %}
    {% include 'blog/includes/aside_nav_post_info.html' %}
{% endblock inside_aside %}

{% block inside_nav %}
    {% include 'blog/includes/aside_nav_post_info.html' %}
{% endblock inside_nav %}

{% block pagination %}
{% endblock pagination %}
