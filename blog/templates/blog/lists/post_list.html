{% extends 'blog/base_post.html' %}
{% load static markdown_extra %}

{% block page_top %}

    {% block page_top_featured %}
        {% include 'blog/includes/featured_posts.html' %}
    {% endblock page_top_featured %}

    {% if previous_year or next_year or previous_month or next_month or previous_week or next_week or previous_day or next_day %}
        <div class="w-100">
            {% if previous_year or next_year %}
                <div>
                    {% if previous_year %}
                        Previous Year: <a href="{% url 'blog:archive_year' year=previous_year|date:'Y' %}">{{ previous_year|date:"Y" }}</a>
                    {% endif %}
                    {% if previous_year and next_year %}--{% endif %}
                    {% if next_year %}
                        Next Year: <a href="{% url 'blog:archive_year' year=next_year|date:'Y' %}">{{ next_year|date:"Y" }}</a>
                    {% endif %}
                </div>
            {% endif %}

            {% if previous_month or next_month %}
                <div>
                    {% if previous_month %}
                        Previous Month: <a href="{% url 'blog:archive_month' year=previous_month|date:'Y' month=previous_month|date:'M' %}">{{ previous_month|date:"F Y" }}</a>
                    {% endif %}
                    {% if previous_month and next_month %}--{% endif %}
                    {% if next_month %}
                        Next Month: <a href="{% url 'blog:archive_month' year=next_month|date:'Y' month=next_month|date:'M' %}">{{ next_month|date:"F Y" }}</a>
                    {% endif %}
                </div>
            {% endif %}

            {% if previous_week or next_week %}
                <div>
                    {% if previous_week %}
                        Previous Week: <a href="{% url 'blog:archive_week' year=previous_week|date:'Y' week=previous_week|date:'W' %}">{{ previous_week|date:"W" }} of {{ previous_week|date:"Y" }}</a>
                    {% endif %}
                    {% if previous_week and next_week %}--{% endif %}
                    {% if next_week %}
                        Next week: <a href="{% url 'blog:archive_week' year=next_week|date:'Y' week=next_week|date:'W' %}">{{ next_week|date:"W" }} of {{ next_week|date:"Y" }}</a>
                    {% endif %}
                </div>
            {% endif %}

            {% if previous_day or next_day %}
                <div>
                    {% if previous_day %}
                            Previous Day: <a href="{% url 'blog:archive_day' year=previous_day|date:'Y' month=previous_day|date:'M' day=previous_day|date:'d' %}">{{ previous_day }}</a>
                    {% endif %}
                    {% if previous_day and next_day %}--{% endif %}
                    {% if next_day %}
                            Next Day: <a href="{% url 'blog:archive_day' year=next_day|date:'Y' month=next_day|date:'M' day=next_day|date:'d' %}">{{ next_day }}</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    {% endif %}

    {% block page_top_hr %}
        <div class='text-then-hr text-small text-muted'>
            <span class='hr-title'><span class="me-2">{{ posts.count }} Posts</span></span>
        </div>
    {% endblock page_top_hr %}

{% endblock page_top %}

{% block content_main %}

    <div class="row row-cols-1 row-cols-lg-3 me-0">
        {% for post in posts %}
            <div class="mb-2 pe-0">
                {% include 'blog/post_card_in_lists.html' %}
            </div>

            {% include 'blog/includes/post_offcanvas.html' %}
        {% empty %}
            <div class="w-100">
                <p>No content here.</p>
            </div>
        {% endfor %}
    </div>
{% endblock content_main %}
